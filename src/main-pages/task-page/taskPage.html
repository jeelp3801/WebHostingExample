<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Umi</title>
        
        <!-- Font -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    
        <!-- Favicon -->
        <link rel="icon" href="../../images/face.png" type="image/png">
    
        <!-- Navigation Bar CSS -->
        <link rel="stylesheet" href="../../navBar.css">
    
        <!-- Global CSS Page -->
        <link rel="stylesheet" href="../../global.css">
    
        <!-- Task Page CSS -->
        <link rel="stylesheet" href="taskPage.css">
    </head>
    <body>
        <header>
            <!-- Navigation Bar -->
            <nav>
                <ul>
                    <li><a href="../../landing-page/home.html" class="active"><strong>Umi</strong></a></li>
                    <li></li>
                    <li></li>
                    <li><a href="../music-page/music.html">Music</a></li>
                    <li><a href="taskPage.html">Tasks</a></li>
                    <li><a href="../faq-page/faq.html">FAQ</a></li>
                    <li><a href="../../redirect/redirect.html">Settings</a></li>
                </ul>
        </nav>
        </header>
        <!-- Greeting message -->
        <section id="greeting">
            <h2 id="message" style="font-weight: 500; color: var(--off-white);"></h2>
            <p id="date" style="font-weight: 100; color: var(--off-white);"></p>
        </section>
        <main>
            <div class="activity-container">
                <div class="popup-buttons">
                    <h1 style="color: var(--off-white);">tasks<br>for<br>the<br>week.<hr></h1>
                    <button id="add-task" onclick="location.href='notion-features/notion-feature-1.html'">
                        <img src="../../images/add.png">
                    </button>
                    <button onclick="openEditPopup()">
                        <img src="../../images/edit.png">
                    </button>
                    <button onclick="openDeletePopup()">
                        <img src="../../images/remove.png">
                    </button>
                    <button id="fetchEvents" onclick="location.href='notion-features/CalendarSync.html'">
                        <img src="../../images/sync.png">
                    </button>
                </div>
                <div class="task-format-container">
                    <div class="task-container">
                        <!--side section that lists each task step based on day-->
                        <button class="task-button" onclick="previousDay()">
                            <
                        </button>
                        
                        <div class="task" id="task-display">
                            <!--task steps from notion are displayed here-->
                            <div id="sunday-popup" class="day-popup">
                                <p class="task-days">sunday</p>
                            </div>
                            <div id="monday-popup" class="day-popup">
                                <p class="task-days">monday</p>
                            </div>
                            <div id="tuesday-popup" class="day-popup">
                                <p class="task-days">tuesday</p>
                            </div>
                            <div id="wednesday-popup" class="day-popup">
                                <p class="task-days">wednesday</p>
                            </div>
                            <div id="thursday-popup" class="day-popup">
                                <p class="task-days">thursday</p>
                            </div>
                            <div id="friday-popup" class="day-popup">
                                <p class="task-days">friday</p>
                            </div>
                            <div id="saturday-popup" class="day-popup">
                                <p class="task-days">saturday</p>
                            </div>
                        </div>
                        
                        <button class="task-button" onclick="nextDay()">
                            >
                        </button>
                    </div>
                </div>
                
                <!--main section flip between all tasks and timer-->
                <div id="flip-buttons-container">
                    <h1 style="color: var(--off-white);">tasks<br>due.<br><br><br><hr></h1>
                    <button class="flip-button" onclick="slideNext()">
                        <img id="toggleImage" src="../../images/pomodoro-icon.png" alt="Toggle Image" style="cursor: pointer;" />
                    </button>
                    <button class="flip-button" id="spotify-now-playing" onclick="location.href='../music-page/spotify-feature1/spotify-feature1.html'">
                        <img id="play-arrow" src="../../images/music.png" alt="Play arrow" style="cursor: pointer;"/>
                    </button>
                </div>
                
                <div class="slider-container">
                    <div id="main-section">
                        <div class="slider">
                            <div class="slide task-list" id="all-tasks">       
                                <h1>Tasks</h1>             
                                <ul>
                                    <!--tasks from notion displayed here-->
                                </ul>
                            </div>
                            <div class="slide timer">
                                <!--pomodoro timer will go here--> 
                                <div class="container">
                                    <!-- Pomodoro Toggle Buttons -->
                                    <div class="toggle-buttons">
                                      <button id="session-btn" class="active">Focus</button>
                                      <button id="short-break-btn">Short Break</button>
                                      <button id="long-break-btn">Long Break</button>
                                    </div>
                                    <!-- Editable Timer -->
                                    <div id="timer" class="editable-timer">
                                      <span id="minutes" contenteditable="true" class="editable-time">
                                        25</span>:<span id="seconds" contenteditable="true" class="editable-time">00</span>
                                    </div>
                                    <!-- Controls -->
                                    <div class="controls">
                                      <button id="toggle-button">Start</button>
                                      <button id="reset">Reset</button>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- pop-up windows for editing and deleting tasks -->            
            
            <!-- popup overaly for background dim effect -->
            <div id="popupOverlayEdit" class="popup-overlay" onclick="closeEditPopup()"></div>
            
            <!-- edit tasks popup container -->
            <div id="edit-popup" class="popup hidden">
                <div class="popup-content">
                    <span class="close-button" onclick="closeEditPopup()">
                        X
                    </span>
                    <h2 style="color: var(--dark-gray);">Edit Tasks</h2>
                    <div id="taskList"></div>
                </div>
            </div>
            
            <!-- popup overaly for background dim effect -->
            <div id="popupOverlayDelete" class="popup-overlay" onclick="closeDeletePopup()"></div>

            <div id="delete-popup" class="popup hidden">
                <div class="popup-content">
                    <span class="close-button" onclick="closeDeletePopup()">
                        X
                    </span>
                    <h2 style="color: var(--dark-gray);">Delete Tasks</h2>
                    <div id="deleteTaskList"></div>
                </div>
            </div>
            <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
            
            <script defer src="../music-page/spotify-feature1/spotify-feature1.js"></script>
            <script src="taskPage.js"></script> 
        </main>
</body>
</html>
